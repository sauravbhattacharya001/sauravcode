name: Stale Issues & PRs

on:
  schedule:
    - cron: '0 6 * * 1'  # Every Monday at 6 AM UTC
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - name: Mark stale issues and PRs
        uses: actions/stale@v9
        with:
          days-before-stale: 60
          days-before-close: 14
          stale-issue-label: stale
          stale-pr-label: stale
          stale-issue-message: >
            This issue has been inactive for 60 days. It will be closed in 14 days
            unless there is new activity. If this is still relevant, please comment
            to keep it open.
          stale-pr-message: >
            This PR has been inactive for 60 days. It will be closed in 14 days
            unless there is new activity. Please update or comment to keep it open.
          close-issue-message: >
            Closed due to inactivity. Feel free to reopen if this is still relevant.
          close-pr-message: >
            Closed due to inactivity. Feel free to reopen if this is still relevant.
          exempt-issue-labels: enhancement,bug
          exempt-pr-labels: enhancement
